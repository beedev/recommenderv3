
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="AI-powered welding equipment configurator - Technical documentation">
      
      
        <meta name="author" content="ESAB Development Team">
      
      
        <link rel="canonical" href="https://esab-configurator.readthedocs.io/MULTILINGUAL_FLOW/">
      
      
        <link rel="prev" href="../MASTER_PARAMETER_JSON_ARCHITECTURE/">
      
      
        <link rel="next" href="../CONFIGURATION_SYSTEM/">
      
      
        
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>Multilingual Flow - ESAB Configurator Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#multilingual-support-complete-flow-documentation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="ESAB Configurator Documentation" class="md-header__button md-logo" aria-label="ESAB Configurator Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ESAB Configurator Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Multilingual Flow
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/esab/configurator" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    esab-configurator
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../CODE_ARCHITECTURE_OVERVIEW/" class="md-tabs__link">
          
  
  
  Architecture

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../operations/deployment-sizing-guide/" class="md-tabs__link">
          
  
  
  Operations

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="ESAB Configurator Documentation" class="md-nav__button md-logo" aria-label="ESAB Configurator Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    ESAB Configurator Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/esab/configurator" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    esab-configurator
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Architecture
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Architecture
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CODE_ARCHITECTURE_OVERVIEW/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CORRECTED_STATE_FLOW_ARCHITECTURE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    State Flow
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ORCHESTRATOR_ARCHITECTURE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Orchestrator
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CONTEXT_BASED_STRATEGIES/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Search Strategies
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../MASTER_PARAMETER_JSON_ARCHITECTURE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Master Parameter JSON
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Multilingual Flow
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Multilingual Flow
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#supported-languages" class="md-nav__link">
    <span class="md-ellipsis">
      
        Supported Languages
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#complete-multilingual-flow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Complete Multilingual Flow
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Complete Multilingual Flow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#phase-1-language-detection-agent-1" class="md-nav__link">
    <span class="md-ellipsis">
      
        üîÑ Phase 1: Language Detection (Agent 1)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="üîÑ Phase 1: Language Detection (Agent 1)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-11-user-query-input" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 1.1: User Query Input
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-12-language-detection" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 1.2: Language Detection
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-2-translation-to-english-agent-1" class="md-nav__link">
    <span class="md-ellipsis">
      
        üîÑ Phase 2: Translation to English (Agent 1)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="üîÑ Phase 2: Translation to English (Agent 1)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-21-translate-query-to-english" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 2.1: Translate Query to English
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-3-enhanced-intent-creation-agent-1" class="md-nav__link">
    <span class="md-ellipsis">
      
        üîÑ Phase 3: Enhanced Intent Creation (Agent 1)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-4-neo4j-search-agent-2" class="md-nav__link">
    <span class="md-ellipsis">
      
        üîÑ Phase 4: Neo4j Search (Agent 2)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-5-response-generation-in-english-agent-3" class="md-nav__link">
    <span class="md-ellipsis">
      
        üîÑ Phase 5: Response Generation in English (Agent 3)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="üîÑ Phase 5: Response Generation in English (Agent 3)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-51-generate-mode-aware-explanations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 5.1: Generate Mode-Aware Explanations
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-52-format-response-in-english" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 5.2: Format Response in English
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#phase-6-translation-back-to-original-language-agent-3" class="md-nav__link">
    <span class="md-ellipsis">
      
        üîÑ Phase 6: Translation Back to Original Language (Agent 3)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="üîÑ Phase 6: Translation Back to Original Language (Agent 3)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-61-check-if-translation-needed" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 6.1: Check if Translation Needed
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-62-translate-response-to-spanish" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 6.2: Translate Response to Spanish
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#expertise-based-response-adaptation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Expertise-Based Response Adaptation
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Expertise-Based Response Adaptation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#expert-mode-expertisemodeexpert" class="md-nav__link">
    <span class="md-ellipsis">
      
        üéØ Expert Mode (ExpertiseMode.EXPERT)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#guided-mode-expertisemodeguided" class="md-nav__link">
    <span class="md-ellipsis">
      
        üéì Guided Mode (ExpertiseMode.GUIDED)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hybrid-mode-expertisemodehybrid" class="md-nav__link">
    <span class="md-ellipsis">
      
        ‚öñÔ∏è Hybrid Mode (ExpertiseMode.HYBRID)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#complete-data-flow-diagram" class="md-nav__link">
    <span class="md-ellipsis">
      
        Complete Data Flow Diagram
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key-files-reference" class="md-nav__link">
    <span class="md-ellipsis">
      
        Key Files Reference
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#current-implementation-status" class="md-nav__link">
    <span class="md-ellipsis">
      
        Current Implementation Status
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Current Implementation Status">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#implemented" class="md-nav__link">
    <span class="md-ellipsis">
      
        ‚úÖ Implemented
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mvp-limitations" class="md-nav__link">
    <span class="md-ellipsis">
      
        ‚ö†Ô∏è MVP Limitations
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#future-enhancements" class="md-nav__link">
    <span class="md-ellipsis">
      
        üöÄ Future Enhancements
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage-example" class="md-nav__link">
    <span class="md-ellipsis">
      
        Usage Example
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Usage Example">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request-spanish" class="md-nav__link">
    <span class="md-ellipsis">
      
        Request (Spanish)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#response-spanish-with-english-product-names" class="md-nav__link">
    <span class="md-ellipsis">
      
        Response (Spanish with English product names)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      
        Summary
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_7" >
        
          
          <label class="md-nav__link" for="__nav_2_7" id="__nav_2_7_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    System Components
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    System Components
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CONFIGURATION_SYSTEM/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuration System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../OBSERVABILITY/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Observability
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Operations
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Operations
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../operations/deployment-sizing-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Deployment & Sizing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../operations/scripts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Operational Scripts
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="multilingual-support-complete-flow-documentation">Multilingual Support - Complete Flow Documentation<a class="headerlink" href="#multilingual-support-complete-flow-documentation" title="Permanent link">&para;</a></h1>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>The Enterprise 3-Agent Agentic System includes comprehensive multilingual support that allows users to query in their native language and receive responses translated back to that language. The system supports 12 languages and automatically detects, translates, and adapts responses based on user expertise level.</p>
<hr />
<h2 id="supported-languages">Supported Languages<a class="headerlink" href="#supported-languages" title="Permanent link">&para;</a></h2>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">LanguageCode</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="n">Enum</span><span class="p">):</span>
    <span class="n">EN</span> <span class="o">=</span> <span class="s2">&quot;en&quot;</span>  <span class="c1"># English (default)</span>
    <span class="n">ES</span> <span class="o">=</span> <span class="s2">&quot;es&quot;</span>  <span class="c1"># Spanish</span>
    <span class="n">FR</span> <span class="o">=</span> <span class="s2">&quot;fr&quot;</span>  <span class="c1"># French</span>
    <span class="n">DE</span> <span class="o">=</span> <span class="s2">&quot;de&quot;</span>  <span class="c1"># German</span>
    <span class="n">PT</span> <span class="o">=</span> <span class="s2">&quot;pt&quot;</span>  <span class="c1"># Portuguese</span>
    <span class="n">IT</span> <span class="o">=</span> <span class="s2">&quot;it&quot;</span>  <span class="c1"># Italian</span>
    <span class="n">ZH</span> <span class="o">=</span> <span class="s2">&quot;zh&quot;</span>  <span class="c1"># Chinese</span>
    <span class="n">JA</span> <span class="o">=</span> <span class="s2">&quot;ja&quot;</span>  <span class="c1"># Japanese</span>
    <span class="n">KO</span> <span class="o">=</span> <span class="s2">&quot;ko&quot;</span>  <span class="c1"># Korean</span>
    <span class="n">RU</span> <span class="o">=</span> <span class="s2">&quot;ru&quot;</span>  <span class="c1"># Russian</span>
    <span class="n">AR</span> <span class="o">=</span> <span class="s2">&quot;ar&quot;</span>  <span class="c1"># Arabic</span>
    <span class="n">HI</span> <span class="o">=</span> <span class="s2">&quot;hi&quot;</span>  <span class="c1"># Hindi</span>
</code></pre></div></td></tr></table></div>
<p><strong>File</strong>: <code>app/services/enterprise/enhanced_state_models.py:29-42</code></p>
<hr />
<h2 id="complete-multilingual-flow">Complete Multilingual Flow<a class="headerlink" href="#complete-multilingual-flow" title="Permanent link">&para;</a></h2>
<h3 id="phase-1-language-detection-agent-1">üîÑ <strong>Phase 1: Language Detection (Agent 1)</strong><a class="headerlink" href="#phase-1-language-detection-agent-1" title="Permanent link">&para;</a></h3>
<p><strong>Location</strong>: <code>app/services/enterprise/intelligent_intent_service.py:202-257</code></p>
<h4 id="step-11-user-query-input">Step 1.1: User Query Input<a class="headerlink" href="#step-11-user-query-input" title="Permanent link">&para;</a></h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1"># User submits query in any supported language</span>
<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;Necesito una m√°quina de soldar MIG para acero&quot;</span>  <span class="c1"># Spanish</span>
</code></pre></div></td></tr></table></div>
<h4 id="step-12-language-detection">Step 1.2: Language Detection<a class="headerlink" href="#step-12-language-detection" title="Permanent link">&para;</a></h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">detect_language</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">query</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">LanguageCode</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Auto-detect language using keyword matching</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Language-specific keyword sets</span>
    <span class="n">language_scores</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;es&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>  <span class="c1"># Spanish</span>
        <span class="s2">&quot;fr&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>  <span class="c1"># French</span>
        <span class="s2">&quot;de&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>  <span class="c1"># German</span>
        <span class="s2">&quot;en&quot;</span><span class="p">:</span> <span class="mi">0</span>   <span class="c1"># English (default)</span>
    <span class="p">}</span>

    <span class="c1"># Spanish keywords</span>
    <span class="n">spanish_keywords</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;necesito&quot;</span><span class="p">,</span> <span class="s2">&quot;quiero&quot;</span><span class="p">,</span> <span class="s2">&quot;para&quot;</span><span class="p">,</span> <span class="s2">&quot;m√°quina&quot;</span><span class="p">,</span> <span class="s2">&quot;soldadura&quot;</span><span class="p">]</span>

    <span class="c1"># Count keyword matches per language</span>
    <span class="k">for</span> <span class="n">keyword</span> <span class="ow">in</span> <span class="n">spanish_keywords</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">keyword</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="n">query</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span>
            <span class="n">language_scores</span><span class="p">[</span><span class="s2">&quot;es&quot;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="c1"># Return language with highest score</span>
    <span class="n">detected_lang</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">language_scores</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">language_scores</span><span class="o">.</span><span class="n">get</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">LanguageCode</span><span class="p">(</span><span class="n">detected_lang</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<p><strong>Output</strong>: <code>detected_language = LanguageCode.ES</code> (Spanish)</p>
<hr />
<h3 id="phase-2-translation-to-english-agent-1">üîÑ <strong>Phase 2: Translation to English (Agent 1)</strong><a class="headerlink" href="#phase-2-translation-to-english-agent-1" title="Permanent link">&para;</a></h3>
<p><strong>Location</strong>: <code>app/services/enterprise/intelligent_intent_service.py:259-320</code></p>
<h4 id="step-21-translate-query-to-english">Step 2.1: Translate Query to English<a class="headerlink" href="#step-21-translate-query-to-english" title="Permanent link">&para;</a></h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">translate_to_english</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">query</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">detected_language</span><span class="p">:</span> <span class="n">LanguageCode</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Translate foreign language queries to English for processing</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">detected_language</span> <span class="o">==</span> <span class="n">LanguageCode</span><span class="o">.</span><span class="n">EN</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">query</span>  <span class="c1"># No translation needed</span>

    <span class="c1"># Translation maps for each language</span>
    <span class="n">translation_maps</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">LanguageCode</span><span class="o">.</span><span class="n">ES</span><span class="p">:</span> <span class="p">{</span>
            <span class="c1"># Spanish ‚Üí English</span>
            <span class="s2">&quot;necesito&quot;</span><span class="p">:</span> <span class="s2">&quot;I need&quot;</span><span class="p">,</span>
            <span class="s2">&quot;m√°quina de soldar&quot;</span><span class="p">:</span> <span class="s2">&quot;welding machine&quot;</span><span class="p">,</span>
            <span class="s2">&quot;soldadura&quot;</span><span class="p">:</span> <span class="s2">&quot;welding&quot;</span><span class="p">,</span>
            <span class="s2">&quot;para&quot;</span><span class="p">:</span> <span class="s2">&quot;for&quot;</span><span class="p">,</span>
            <span class="s2">&quot;acero&quot;</span><span class="p">:</span> <span class="s2">&quot;steel&quot;</span><span class="p">,</span>
            <span class="s2">&quot;MIG&quot;</span><span class="p">:</span> <span class="s2">&quot;MIG&quot;</span><span class="p">,</span>
            <span class="s2">&quot;TIG&quot;</span><span class="p">:</span> <span class="s2">&quot;TIG&quot;</span>
        <span class="p">},</span>
        <span class="n">LanguageCode</span><span class="o">.</span><span class="n">FR</span><span class="p">:</span> <span class="p">{</span>
            <span class="c1"># French ‚Üí English</span>
            <span class="s2">&quot;j&#39;ai besoin&quot;</span><span class="p">:</span> <span class="s2">&quot;I need&quot;</span><span class="p">,</span>
            <span class="s2">&quot;machine √† souder&quot;</span><span class="p">:</span> <span class="s2">&quot;welding machine&quot;</span><span class="p">,</span>
            <span class="s2">&quot;soudage&quot;</span><span class="p">:</span> <span class="s2">&quot;welding&quot;</span><span class="p">,</span>
            <span class="s2">&quot;pour&quot;</span><span class="p">:</span> <span class="s2">&quot;for&quot;</span><span class="p">,</span>
            <span class="s2">&quot;acier&quot;</span><span class="p">:</span> <span class="s2">&quot;steel&quot;</span>
        <span class="p">},</span>
        <span class="n">LanguageCode</span><span class="o">.</span><span class="n">DE</span><span class="p">:</span> <span class="p">{</span>
            <span class="c1"># German ‚Üí English</span>
            <span class="s2">&quot;ich brauche&quot;</span><span class="p">:</span> <span class="s2">&quot;I need&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Schwei√ümaschine&quot;</span><span class="p">:</span> <span class="s2">&quot;welding machine&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Schwei√üen&quot;</span><span class="p">:</span> <span class="s2">&quot;welding&quot;</span><span class="p">,</span>
            <span class="s2">&quot;f√ºr&quot;</span><span class="p">:</span> <span class="s2">&quot;for&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Stahl&quot;</span><span class="p">:</span> <span class="s2">&quot;steel&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="c1"># Apply translation</span>
    <span class="n">translated_query</span> <span class="o">=</span> <span class="n">query</span>
    <span class="k">if</span> <span class="n">detected_language</span> <span class="ow">in</span> <span class="n">translation_maps</span><span class="p">:</span>
        <span class="n">translation_map</span> <span class="o">=</span> <span class="n">translation_maps</span><span class="p">[</span><span class="n">detected_language</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">foreign_term</span><span class="p">,</span> <span class="n">english_term</span> <span class="ow">in</span> <span class="n">translation_map</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">translated_query</span> <span class="o">=</span> <span class="n">translated_query</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">foreign_term</span><span class="p">,</span> <span class="n">english_term</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">translated_query</span>
</code></pre></div></td></tr></table></div>
<p><strong>Input</strong>: <code>"Necesito una m√°quina de soldar MIG para acero"</code>
<strong>Output</strong>: <code>"I need a welding machine MIG for steel"</code></p>
<hr />
<h3 id="phase-3-enhanced-intent-creation-agent-1">üîÑ <strong>Phase 3: Enhanced Intent Creation (Agent 1)</strong><a class="headerlink" href="#phase-3-enhanced-intent-creation-agent-1" title="Permanent link">&para;</a></h3>
<p><strong>Location</strong>: <code>app/services/enterprise/intelligent_intent_service.py:367-400</code></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1"># Store both original and translated queries</span>
<span class="n">enhanced_intent</span> <span class="o">=</span> <span class="n">EnhancedProcessedIntent</span><span class="p">(</span>
    <span class="n">original_query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span>                    <span class="c1"># Spanish: &quot;Necesito una...&quot;</span>
    <span class="n">processed_query</span><span class="o">=</span><span class="n">english_query</span><span class="p">,</span>           <span class="c1"># English: &quot;I need a...&quot;</span>
    <span class="n">detected_language</span><span class="o">=</span><span class="n">detected_language</span><span class="p">,</span>     <span class="c1"># LanguageCode.ES</span>
    <span class="n">language_detection_confidence</span><span class="o">=</span><span class="mf">0.95</span><span class="p">,</span>

    <span class="c1"># Extracted from English query</span>
    <span class="n">welding_process</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;GMAW&quot;</span><span class="p">],</span>
    <span class="n">material</span><span class="o">=</span><span class="n">Material</span><span class="o">.</span><span class="n">STEEL</span><span class="p">,</span>

    <span class="c1"># Auto-detected expertise</span>
    <span class="n">expertise_mode</span><span class="o">=</span><span class="n">ExpertiseMode</span><span class="o">.</span><span class="n">HYBRID</span><span class="p">,</span>
    <span class="n">mode_detection_confidence</span><span class="o">=</span><span class="mf">0.85</span>
<span class="p">)</span>
</code></pre></div></td></tr></table></div>
<p><strong>Output</strong>: Intent with language metadata preserved</p>
<hr />
<h3 id="phase-4-neo4j-search-agent-2">üîÑ <strong>Phase 4: Neo4j Search (Agent 2)</strong><a class="headerlink" href="#phase-4-neo4j-search-agent-2" title="Permanent link">&para;</a></h3>
<p><strong>Location</strong>: <code>app/services/enterprise/smart_neo4j_service.py</code></p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1"># Agent 2 processes the ENGLISH query</span>
<span class="c1"># Searches Neo4j using English-translated requirements</span>
<span class="c1"># Returns Trinity packages with English product names/descriptions</span>

<span class="n">scored_recommendations</span> <span class="o">=</span> <span class="n">ScoredRecommendations</span><span class="p">(</span>
    <span class="n">packages</span><span class="o">=</span><span class="p">[</span>
        <span class="n">TrinityPackage</span><span class="p">(</span>
            <span class="n">power_source</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;product_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Aristo 500ix CE&quot;</span><span class="p">,</span> <span class="o">...</span><span class="p">},</span>
            <span class="n">feeder</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;product_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Robust Feed 304&quot;</span><span class="p">,</span> <span class="o">...</span><span class="p">},</span>
            <span class="n">cooler</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;product_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Cool 50 U42&quot;</span><span class="p">,</span> <span class="o">...</span><span class="p">}</span>
        <span class="p">)</span>
    <span class="p">]</span>
<span class="p">)</span>
</code></pre></div></td></tr></table></div>
<p><strong>Note</strong>: Neo4j search happens in English. Product data in database is in English.</p>
<hr />
<h3 id="phase-5-response-generation-in-english-agent-3">üîÑ <strong>Phase 5: Response Generation in English (Agent 3)</strong><a class="headerlink" href="#phase-5-response-generation-in-english-agent-3" title="Permanent link">&para;</a></h3>
<p><strong>Location</strong>: <code>app/services/enterprise/multilingual_response_service.py:480-543</code></p>
<h4 id="step-51-generate-mode-aware-explanations">Step 5.1: Generate Mode-Aware Explanations<a class="headerlink" href="#step-51-generate-mode-aware-explanations" title="Permanent link">&para;</a></h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1"># Generate explanations based on expertise mode</span>
<span class="k">if</span> <span class="n">expertise_mode</span> <span class="o">==</span> <span class="n">ExpertiseMode</span><span class="o">.</span><span class="n">EXPERT</span><span class="p">:</span>
    <span class="n">explanations</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;technical_summary&quot;</span><span class="p">:</span> <span class="s2">&quot;Optimal Trinity configuration identified...&quot;</span><span class="p">,</span>
        <span class="s2">&quot;compatibility_analysis&quot;</span><span class="p">:</span> <span class="s2">&quot;Package 1: Trinity compliance...&quot;</span><span class="p">,</span>
        <span class="s2">&quot;performance_metrics&quot;</span><span class="p">:</span> <span class="s2">&quot;Generated 3 packages, 3 Trinity-compliant...&quot;</span>
    <span class="p">}</span>
<span class="k">elif</span> <span class="n">expertise_mode</span> <span class="o">==</span> <span class="n">ExpertiseMode</span><span class="o">.</span><span class="n">GUIDED</span><span class="p">:</span>
    <span class="n">explanations</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;beginner_summary&quot;</span><span class="p">:</span> <span class="s2">&quot;I found a great welding package for you!...&quot;</span><span class="p">,</span>
        <span class="s2">&quot;component_education&quot;</span><span class="p">:</span> <span class="s2">&quot;Understanding Your Welding Package...&quot;</span><span class="p">,</span>
        <span class="s2">&quot;usage_guidance&quot;</span><span class="p">:</span> <span class="s2">&quot;Getting Started Tips...&quot;</span>
    <span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h4 id="step-52-format-response-in-english">Step 5.2: Format Response in English<a class="headerlink" href="#step-52-format-response-in-english" title="Permanent link">&para;</a></h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="n">formatted_response</span> <span class="o">=</span> <span class="n">MultilingualResponse</span><span class="p">(</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Welding Package Recommendation&quot;</span><span class="p">,</span>
    <span class="n">summary</span><span class="o">=</span><span class="s2">&quot;Recommended Welding Package (Score: 95.0%)&quot;</span><span class="p">,</span>
    <span class="n">detailed_explanation</span><span class="o">=</span><span class="s2">&quot;**Power Source**: Aristo 500ix CE</span><span class="se">\n</span><span class="s2">**Wire Feeder**: Robust Feed 304</span><span class="se">\n</span><span class="s2">...&quot;</span><span class="p">,</span>
    <span class="n">technical_notes</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;This Trinity package ensures all components work together optimally.&quot;</span><span class="p">],</span>
    <span class="n">package_descriptions</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Package 1: Aristo 500ix CE system - $15,450.00 (Score: 95%)&quot;</span><span class="p">],</span>
    <span class="n">next_steps</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Review package details&quot;</span><span class="p">,</span> <span class="s2">&quot;Check delivery options&quot;</span><span class="p">,</span> <span class="s2">&quot;Contact sales if needed&quot;</span><span class="p">],</span>
    <span class="n">related_questions</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Are there other configurations available?&quot;</span><span class="p">,</span> <span class="s2">&quot;What&#39;s the warranty coverage?&quot;</span><span class="p">],</span>
    <span class="n">response_language</span><span class="o">=</span><span class="n">LanguageCode</span><span class="o">.</span><span class="n">EN</span><span class="p">,</span>  <span class="c1"># Still in English</span>
    <span class="n">explanation_level</span><span class="o">=</span><span class="n">ExplanationLevel</span><span class="o">.</span><span class="n">BALANCED</span>
<span class="p">)</span>
</code></pre></div></td></tr></table></div>
<hr />
<h3 id="phase-6-translation-back-to-original-language-agent-3">üîÑ <strong>Phase 6: Translation Back to Original Language (Agent 3)</strong><a class="headerlink" href="#phase-6-translation-back-to-original-language-agent-3" title="Permanent link">&para;</a></h3>
<p><strong>Location</strong>: <code>app/services/enterprise/multilingual_response_service.py:305-363</code></p>
<h4 id="step-61-check-if-translation-needed">Step 6.1: Check if Translation Needed<a class="headerlink" href="#step-61-check-if-translation-needed" title="Permanent link">&para;</a></h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1"># Original query was in Spanish (LanguageCode.ES)</span>
<span class="k">if</span> <span class="n">original_intent</span><span class="o">.</span><span class="n">detected_language</span> <span class="o">!=</span> <span class="n">LanguageCode</span><span class="o">.</span><span class="n">EN</span><span class="p">:</span>
    <span class="n">formatted_response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">multilingual_translator</span><span class="o">.</span><span class="n">translate_response</span><span class="p">(</span>
        <span class="n">formatted_response</span><span class="p">,</span>
        <span class="n">original_intent</span><span class="o">.</span><span class="n">detected_language</span>  <span class="c1"># LanguageCode.ES</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
<h4 id="step-62-translate-response-to-spanish">Step 6.2: Translate Response to Spanish<a class="headerlink" href="#step-62-translate-response-to-spanish" title="Permanent link">&para;</a></h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">MultilingualTranslator</span><span class="p">:</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">translate_response</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">response</span><span class="p">:</span> <span class="n">MultilingualResponse</span><span class="p">,</span>
        <span class="n">target_language</span><span class="p">:</span> <span class="n">LanguageCode</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MultilingualResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Translate response back to user&#39;s original language&quot;&quot;&quot;</span>

        <span class="c1"># Translation maps for key technical terms</span>
        <span class="n">translation_maps</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">LanguageCode</span><span class="o">.</span><span class="n">ES</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;Power Source&quot;</span><span class="p">:</span> <span class="s2">&quot;Fuente de Poder&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Wire Feeder&quot;</span><span class="p">:</span> <span class="s2">&quot;Alimentador de Alambre&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Cooling System&quot;</span><span class="p">:</span> <span class="s2">&quot;Sistema de Enfriamiento&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Total Package Price&quot;</span><span class="p">:</span> <span class="s2">&quot;Precio Total del Paquete&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Recommended&quot;</span><span class="p">:</span> <span class="s2">&quot;Recomendado&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Complete Trinity package&quot;</span><span class="p">:</span> <span class="s2">&quot;Paquete Trinity Completo&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Review package details&quot;</span><span class="p">:</span> <span class="s2">&quot;Revisar detalles del paquete&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Contact sales&quot;</span><span class="p">:</span> <span class="s2">&quot;Contactar ventas&quot;</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="c1"># Apply translations</span>
        <span class="n">translated_response</span> <span class="o">=</span> <span class="n">MultilingualResponse</span><span class="p">(</span>
            <span class="n">title</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_simple_translate</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">title</span><span class="p">,</span> <span class="n">target_language</span><span class="p">),</span>
            <span class="n">summary</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_simple_translate</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">summary</span><span class="p">,</span> <span class="n">target_language</span><span class="p">),</span>
            <span class="n">detailed_explanation</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_simple_translate</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">detailed_explanation</span><span class="p">,</span> <span class="n">target_language</span><span class="p">),</span>
            <span class="n">technical_notes</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_simple_translate</span><span class="p">(</span><span class="n">note</span><span class="p">,</span> <span class="n">target_language</span><span class="p">)</span> <span class="k">for</span> <span class="n">note</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">technical_notes</span><span class="p">],</span>
            <span class="n">package_descriptions</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_simple_translate</span><span class="p">(</span><span class="n">desc</span><span class="p">,</span> <span class="n">target_language</span><span class="p">)</span> <span class="k">for</span> <span class="n">desc</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">package_descriptions</span><span class="p">],</span>
            <span class="n">next_steps</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_simple_translate</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="n">target_language</span><span class="p">)</span> <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">next_steps</span><span class="p">],</span>
            <span class="n">related_questions</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_simple_translate</span><span class="p">(</span><span class="n">q</span><span class="p">,</span> <span class="n">target_language</span><span class="p">)</span> <span class="k">for</span> <span class="n">q</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">related_questions</span><span class="p">],</span>
            <span class="n">response_language</span><span class="o">=</span><span class="n">target_language</span><span class="p">,</span>  <span class="c1"># LanguageCode.ES</span>
            <span class="n">explanation_level</span><span class="o">=</span><span class="n">response</span><span class="o">.</span><span class="n">explanation_level</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">translated_response</span>
</code></pre></div></td></tr></table></div>
<p><strong>Final Response in Spanish</strong>:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="n">MultilingualResponse</span><span class="p">(</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Recomendado de Paquete de Soldadura&quot;</span><span class="p">,</span>
    <span class="n">summary</span><span class="o">=</span><span class="s2">&quot;Paquete de Soldadura Recomendado (Puntuaci√≥n: 95.0%)&quot;</span><span class="p">,</span>
    <span class="n">detailed_explanation</span><span class="o">=</span><span class="s2">&quot;**Fuente de Poder**: Aristo 500ix CE</span><span class="se">\n</span><span class="s2">**Alimentador de Alambre**: Robust Feed 304</span><span class="se">\n</span><span class="s2">...&quot;</span><span class="p">,</span>
    <span class="n">technical_notes</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Este Paquete Trinity Completo asegura que todos los componentes funcionen juntos de manera √≥ptima.&quot;</span><span class="p">],</span>
    <span class="n">package_descriptions</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Paquete 1: Sistema Aristo 500ix CE - $15,450.00 (Puntuaci√≥n: 95%)&quot;</span><span class="p">],</span>
    <span class="n">next_steps</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Revisar detalles del paquete&quot;</span><span class="p">,</span> <span class="s2">&quot;Verificar opciones de entrega&quot;</span><span class="p">,</span> <span class="s2">&quot;Contactar ventas si es necesario&quot;</span><span class="p">],</span>
    <span class="n">related_questions</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;¬øHay otras configuraciones disponibles?&quot;</span><span class="p">,</span> <span class="s2">&quot;¬øCu√°l es la cobertura de garant√≠a?&quot;</span><span class="p">],</span>
    <span class="n">response_language</span><span class="o">=</span><span class="n">LanguageCode</span><span class="o">.</span><span class="n">ES</span><span class="p">,</span>
    <span class="n">explanation_level</span><span class="o">=</span><span class="n">ExplanationLevel</span><span class="o">.</span><span class="n">BALANCED</span>
<span class="p">)</span>
</code></pre></div></td></tr></table></div></p>
<hr />
<h2 id="expertise-based-response-adaptation">Expertise-Based Response Adaptation<a class="headerlink" href="#expertise-based-response-adaptation" title="Permanent link">&para;</a></h2>
<h3 id="expert-mode-expertisemodeexpert">üéØ <strong>Expert Mode</strong> (ExpertiseMode.EXPERT)<a class="headerlink" href="#expert-mode-expertisemodeexpert" title="Permanent link">&para;</a></h3>
<p><strong>Triggers</strong>: Technical keywords like "amperage", "duty cycle", "GMAW", "DCEP"</p>
<p><strong>Response Style</strong>:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="n">MultilingualResponse</span><span class="p">(</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Technical Welding System Analysis&quot;</span><span class="p">,</span>
    <span class="n">summary</span><span class="o">=</span><span class="s2">&quot;Optimal Trinity configuration identified with 95.0</span><span class="si">% c</span><span class="s2">ompatibility score. | PowerSource: Aristo 500ix CE | Wire Feeder: Robust Feed 304 | ...&quot;</span><span class="p">,</span>
    <span class="n">detailed_explanation</span><span class="o">=</span><span class="s2">&quot;Package 1: Trinity compliance True, Business rule compliance 92.5%, Compatibility score 0.95&quot;</span><span class="p">,</span>
    <span class="n">technical_notes</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Generated 3 packages, 3 Trinity-compliant, Average score: 0.93&quot;</span><span class="p">],</span>
    <span class="n">next_steps</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Review technical specifications&quot;</span><span class="p">,</span> <span class="s2">&quot;Validate power requirements&quot;</span><span class="p">,</span> <span class="s2">&quot;Confirm installation requirements&quot;</span><span class="p">],</span>
    <span class="n">related_questions</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;What are the duty cycle requirements?&quot;</span><span class="p">,</span> <span class="s2">&quot;Do you need additional consumables?&quot;</span><span class="p">],</span>
    <span class="n">explanation_level</span><span class="o">=</span><span class="n">ExplanationLevel</span><span class="o">.</span><span class="n">TECHNICAL</span>
<span class="p">)</span>
</code></pre></div></td></tr></table></div></p>
<h3 id="guided-mode-expertisemodeguided">üéì <strong>Guided Mode</strong> (ExpertiseMode.GUIDED)<a class="headerlink" href="#guided-mode-expertisemodeguided" title="Permanent link">&para;</a></h3>
<p><strong>Triggers</strong>: Keywords like "beginner", "new to welding", "learning", "help me understand"</p>
<p><strong>Response Style</strong>:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="n">MultilingualResponse</span><span class="p">(</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Your Perfect Welding Package&quot;</span><span class="p">,</span>
    <span class="n">summary</span><span class="o">=</span><span class="s2">&quot;I found a great welding package for you! This complete setup includes everything you need:</span><span class="se">\n\n</span><span class="s2">üîå **Power Source**: Aristo 500ix CE - This is the main welding machine that provides the power.</span><span class="se">\n</span><span class="s2">üìã **Wire Feeder**: Robust Feed 304 - This feeds welding wire automatically so you can focus on your weld.</span><span class="se">\n</span><span class="s2">‚ùÑÔ∏è **Cooling System**: Cool 50 U42 - This keeps your torch cool during longer welding sessions.&quot;</span><span class="p">,</span>
    <span class="n">detailed_explanation</span><span class="o">=</span><span class="s2">&quot;**Understanding Your Welding Package:**</span><span class="se">\n</span><span class="s2">üîå **Power Source (Welder)**: The heart of your setup - converts electricity into welding power</span><span class="se">\n</span><span class="s2">üìã **Wire Feeder**: Automatically feeds welding wire at the right speed (for MIG welding)</span><span class="se">\n</span><span class="s2">‚ùÑÔ∏è **Cooling System**: Prevents overheating during long welding sessions</span><span class="se">\n</span><span class="s2">‚ö° **Why Trinity Matters**: These three components work together like a team&quot;</span><span class="p">,</span>
    <span class="n">technical_notes</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;**Getting Started Tips:**</span><span class="se">\n</span><span class="s2">‚Ä¢ This setup is optimized for steel welding</span><span class="se">\n</span><span class="s2">‚Ä¢ Start with practice pieces before your main project</span><span class="se">\n</span><span class="s2">‚Ä¢ Make sure you have proper safety equipment&quot;</span><span class="p">],</span>
    <span class="n">next_steps</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Get safety equipment&quot;</span><span class="p">,</span> <span class="s2">&quot;Consider training classes&quot;</span><span class="p">,</span> <span class="s2">&quot;Plan your workspace&quot;</span><span class="p">],</span>
    <span class="n">related_questions</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;What safety equipment do I need?&quot;</span><span class="p">,</span> <span class="s2">&quot;Where can I learn welding?&quot;</span><span class="p">],</span>
    <span class="n">explanation_level</span><span class="o">=</span><span class="n">ExplanationLevel</span><span class="o">.</span><span class="n">EDUCATIONAL</span>
<span class="p">)</span>
</code></pre></div></td></tr></table></div></p>
<h3 id="hybrid-mode-expertisemodehybrid">‚öñÔ∏è <strong>Hybrid Mode</strong> (ExpertiseMode.HYBRID)<a class="headerlink" href="#hybrid-mode-expertisemodehybrid" title="Permanent link">&para;</a></h3>
<p><strong>Default</strong>: Balanced technical and beginner-friendly information</p>
<p><strong>Response Style</strong>:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="n">MultilingualResponse</span><span class="p">(</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Welding Package Recommendation&quot;</span><span class="p">,</span>
    <span class="n">summary</span><span class="o">=</span><span class="s2">&quot;**Recommended Welding Package** (Score: 95.0%)</span><span class="se">\n</span><span class="s2">**Power Source**: Aristo 500ix CE</span><span class="se">\n</span><span class="s2">**Wire Feeder**: Robust Feed 304</span><span class="se">\n</span><span class="s2">**Cooling**: Cool 50 U42</span><span class="se">\n</span><span class="s2">**Total**: $15,450.00&quot;</span><span class="p">,</span>
    <span class="n">detailed_explanation</span><span class="o">=</span><span class="s2">&quot;‚úÖ Complete Trinity package (Power Source + Feeder + Cooler)</span><span class="se">\n</span><span class="s2">‚úÖ Components verified for compatibility</span><span class="se">\n</span><span class="s2">‚úÖ Business-grade quality and reliability&quot;</span><span class="p">,</span>
    <span class="n">technical_notes</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Found 3 compatible packages. Top recommendation shown above.&quot;</span><span class="p">],</span>
    <span class="n">next_steps</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Review package details&quot;</span><span class="p">,</span> <span class="s2">&quot;Check delivery options&quot;</span><span class="p">,</span> <span class="s2">&quot;Contact sales if needed&quot;</span><span class="p">],</span>
    <span class="n">related_questions</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Are there other configurations available?&quot;</span><span class="p">,</span> <span class="s2">&quot;What&#39;s the warranty coverage?&quot;</span><span class="p">],</span>
    <span class="n">explanation_level</span><span class="o">=</span><span class="n">ExplanationLevel</span><span class="o">.</span><span class="n">BALANCED</span>
<span class="p">)</span>
</code></pre></div></td></tr></table></div></p>
<hr />
<h2 id="complete-data-flow-diagram">Complete Data Flow Diagram<a class="headerlink" href="#complete-data-flow-diagram" title="Permanent link">&para;</a></h2>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">  1</span>
<span class="normal">  2</span>
<span class="normal">  3</span>
<span class="normal">  4</span>
<span class="normal">  5</span>
<span class="normal">  6</span>
<span class="normal">  7</span>
<span class="normal">  8</span>
<span class="normal">  9</span>
<span class="normal"> 10</span>
<span class="normal"> 11</span>
<span class="normal"> 12</span>
<span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span></pre></div></td><td class="code"><div><pre><span></span><code>‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ USER INPUT                                                     ‚îÇ
‚îÇ &quot;Necesito una m√°quina de soldar MIG para acero&quot; (Spanish)    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
             ‚îÇ
             ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ AGENT 1: Intelligent Intent Service                           ‚îÇ
‚îÇ                                                                ‚îÇ
‚îÇ Step 1: Language Detection                                    ‚îÇ
‚îÇ   ‚îú‚îÄ Keyword matching ‚Üí LanguageCode.ES (Spanish)            ‚îÇ
‚îÇ   ‚îî‚îÄ Confidence: 95%                                          ‚îÇ
‚îÇ                                                                ‚îÇ
‚îÇ Step 2: Translation to English                                ‚îÇ
‚îÇ   ‚îú‚îÄ Input: &quot;Necesito una m√°quina de soldar MIG para acero&quot;  ‚îÇ
‚îÇ   ‚îî‚îÄ Output: &quot;I need a welding machine MIG for steel&quot;        ‚îÇ
‚îÇ                                                                ‚îÇ
‚îÇ Step 3: Expertise Detection                                   ‚îÇ
‚îÇ   ‚îú‚îÄ Expert signals: 0                                        ‚îÇ
‚îÇ   ‚îú‚îÄ Guided signals: 0                                        ‚îÇ
‚îÇ   ‚îî‚îÄ Mode: ExpertiseMode.HYBRID (default)                    ‚îÇ
‚îÇ                                                                ‚îÇ
‚îÇ Step 4: Intent Extraction (from English query)               ‚îÇ
‚îÇ   ‚îú‚îÄ Welding Process: GMAW (MIG)                            ‚îÇ
‚îÇ   ‚îú‚îÄ Material: STEEL                                          ‚îÇ
‚îÇ   ‚îî‚îÄ Confidence: 0.85                                         ‚îÇ
‚îÇ                                                                ‚îÇ
‚îÇ OUTPUT: EnhancedProcessedIntent                               ‚îÇ
‚îÇ   - original_query: &quot;Necesito una...&quot; (Spanish)              ‚îÇ
‚îÇ   - processed_query: &quot;I need a...&quot; (English)                 ‚îÇ
‚îÇ   - detected_language: LanguageCode.ES                        ‚îÇ
‚îÇ   - expertise_mode: ExpertiseMode.HYBRID                      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
             ‚îÇ
             ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ AGENT 2: Smart Neo4j Service                                  ‚îÇ
‚îÇ                                                                ‚îÇ
‚îÇ Step 1: Search Strategy Selection                             ‚îÇ
‚îÇ   ‚îî‚îÄ Strategy: HYBRID (semantic + graph)                     ‚îÇ
‚îÇ                                                                ‚îÇ
‚îÇ Step 2: Neo4j Query Execution (in English)                   ‚îÇ
‚îÇ   ‚îú‚îÄ Search for: MIG welding, steel material               ‚îÇ
‚îÇ   ‚îú‚îÄ Algorithm: Trinity Semantic Search                      ‚îÇ
‚îÇ   ‚îî‚îÄ Results: 3 compatible Trinity packages                  ‚îÇ
‚îÇ                                                                ‚îÇ
‚îÇ Step 3: Package Scoring &amp; Ranking                            ‚îÇ
‚îÇ   ‚îú‚îÄ Trinity compliance check                                ‚îÇ
‚îÇ   ‚îú‚îÄ Compatibility scoring                                   ‚îÇ
‚îÇ   ‚îî‚îÄ Business rules application                              ‚îÇ
‚îÇ                                                                ‚îÇ
‚îÇ OUTPUT: ScoredRecommendations                                 ‚îÇ
‚îÇ   - packages: [TrinityPackage(Aristo 500ix CE, ...)]        ‚îÇ
‚îÇ   - trinity_formation_rate: 1.0 (100%)                       ‚îÇ
‚îÇ   - total_packages_found: 3                                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
             ‚îÇ
             ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ AGENT 3: Multilingual Response Service                        ‚îÇ
‚îÇ                                                                ‚îÇ
‚îÇ Step 1: Business Context Re-ranking                           ‚îÇ
‚îÇ   ‚îú‚îÄ User: Anonymous                                          ‚îÇ
‚îÇ   ‚îú‚îÄ Organization: None                                       ‚îÇ
‚îÇ   ‚îî‚îÄ Priority: ESAB products, Trinity compliance             ‚îÇ
‚îÇ                                                                ‚îÇ
‚îÇ Step 2: Mode-Aware Explanation Generation                    ‚îÇ
‚îÇ   ‚îú‚îÄ Mode: ExpertiseMode.HYBRID                              ‚îÇ
‚îÇ   ‚îî‚îÄ Explanations: Balanced technical + beginner-friendly    ‚îÇ
‚îÇ                                                                ‚îÇ
‚îÇ Step 3: Response Formatting (in English)                     ‚îÇ
‚îÇ   ‚îú‚îÄ Title: &quot;Welding Package Recommendation&quot;                ‚îÇ
‚îÇ   ‚îú‚îÄ Summary: &quot;Recommended Welding Package (Score: 95%)&quot;    ‚îÇ
‚îÇ   ‚îî‚îÄ Details: PowerSource, Feeder, Cooler info              ‚îÇ
‚îÇ                                                                ‚îÇ
‚îÇ Step 4: Translation to Original Language (Spanish)           ‚îÇ
‚îÇ   ‚îú‚îÄ Detect: detected_language = LanguageCode.ES            ‚îÇ
‚îÇ   ‚îú‚îÄ Translate: Apply Spanish translation map               ‚îÇ
‚îÇ   ‚îÇ    - &quot;Power Source&quot; ‚Üí &quot;Fuente de Poder&quot;                ‚îÇ
‚îÇ   ‚îÇ    - &quot;Wire Feeder&quot; ‚Üí &quot;Alimentador de Alambre&quot;          ‚îÇ
‚îÇ   ‚îÇ    - &quot;Cooling System&quot; ‚Üí &quot;Sistema de Enfriamiento&quot;      ‚îÇ
‚îÇ   ‚îî‚îÄ Output: MultilingualResponse (Spanish)                 ‚îÇ
‚îÇ                                                                ‚îÇ
‚îÇ OUTPUT: EnterpriseRecommendationResponse                      ‚îÇ
‚îÇ   - formatted_response: MultilingualResponse (Spanish)       ‚îÇ
‚îÇ   - packages: [TrinityPackage(...)]                          ‚îÇ
‚îÇ   - overall_confidence: 0.92                                 ‚îÇ
‚îÇ   - trace_id: &quot;abc123&quot;                                       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
             ‚îÇ
             ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ API RESPONSE (to user)                                         ‚îÇ
‚îÇ                                                                ‚îÇ
‚îÇ {                                                              ‚îÇ
‚îÇ   &quot;formatted_response&quot;: {                                     ‚îÇ
‚îÇ     &quot;title&quot;: &quot;Recomendado de Paquete de Soldadura&quot;,         ‚îÇ
‚îÇ     &quot;summary&quot;: &quot;Paquete de Soldadura Recomendado...&quot;,       ‚îÇ
‚îÇ     &quot;detailed_explanation&quot;: &quot;**Fuente de Poder**: Aristo...&quot;,‚îÇ
‚îÇ     &quot;response_language&quot;: &quot;es&quot;,                               ‚îÇ
‚îÇ     &quot;explanation_level&quot;: &quot;balanced&quot;                          ‚îÇ
‚îÇ   },                                                           ‚îÇ
‚îÇ   &quot;packages&quot;: [...],                                          ‚îÇ
‚îÇ   &quot;overall_confidence&quot;: 0.92                                  ‚îÇ
‚îÇ }                                                              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
</code></pre></div></td></tr></table></div>
<hr />
<h2 id="key-files-reference">Key Files Reference<a class="headerlink" href="#key-files-reference" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>File</th>
<th>Purpose</th>
<th>Key Functions</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>enhanced_state_models.py:29-42</code></td>
<td>Language code definitions</td>
<td><code>LanguageCode</code> enum</td>
</tr>
<tr>
<td><code>intelligent_intent_service.py:202-320</code></td>
<td>Language detection &amp; translation</td>
<td><code>detect_language()</code>, <code>translate_to_english()</code></td>
</tr>
<tr>
<td><code>multilingual_response_service.py:305-363</code></td>
<td>Response translation</td>
<td><code>translate_response()</code>, <code>_simple_translate()</code></td>
</tr>
<tr>
<td><code>multilingual_response_service.py:27-243</code></td>
<td>Mode-aware explanations</td>
<td><code>generate_explanations()</code>, <code>_generate_expert_explanations()</code>, <code>_generate_guided_explanations()</code></td>
</tr>
</tbody>
</table>
<hr />
<h2 id="current-implementation-status">Current Implementation Status<a class="headerlink" href="#current-implementation-status" title="Permanent link">&para;</a></h2>
<h3 id="implemented">‚úÖ Implemented<a class="headerlink" href="#implemented" title="Permanent link">&para;</a></h3>
<ul>
<li>Language detection via keyword matching (12 languages)</li>
<li>Translation to English for processing</li>
<li>Mode-aware response generation (Expert/Guided/Hybrid)</li>
<li>Translation back to original language</li>
<li>Spanish, French, German translation maps</li>
</ul>
<h3 id="mvp-limitations">‚ö†Ô∏è MVP Limitations<a class="headerlink" href="#mvp-limitations" title="Permanent link">&para;</a></h3>
<ul>
<li>Simple keyword-based translation (not professional-grade)</li>
<li>Limited vocabulary in translation maps</li>
<li>No full sentence structure translation</li>
<li>Product names/descriptions remain in English (from database)</li>
</ul>
<h3 id="future-enhancements">üöÄ Future Enhancements<a class="headerlink" href="#future-enhancements" title="Permanent link">&para;</a></h3>
<ul>
<li>Integration with professional translation API (Google Translate, DeepL)</li>
<li>Multilingual product database</li>
<li>Cultural adaptation beyond language translation</li>
<li>Sentiment analysis for better expertise detection</li>
<li>Dynamic translation quality scoring</li>
</ul>
<hr />
<h2 id="usage-example">Usage Example<a class="headerlink" href="#usage-example" title="Permanent link">&para;</a></h2>
<h3 id="request-spanish">Request (Spanish)<a class="headerlink" href="#request-spanish" title="Permanent link">&para;</a></h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="err">POST</span><span class="w"> </span><span class="err">/api/v</span><span class="mi">1</span><span class="err">/e</span><span class="kc">nter</span><span class="err">prise/orches</span><span class="kc">trat</span><span class="err">or/recomme</span><span class="kc">n</span><span class="err">d</span>
<span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;query&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Necesito una m√°quina de soldar MIG de 500 amperios para acero inoxidable&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;user_context&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;user_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;user_123&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;preferred_language&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;es&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div></td></tr></table></div>
<h3 id="response-spanish-with-english-product-names">Response (Spanish with English product names)<a class="headerlink" href="#response-spanish-with-english-product-names" title="Permanent link">&para;</a></h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;formatted_response&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Recomendado de Paquete de Soldadura&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;summary&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Paquete de Soldadura Recomendado (Puntuaci√≥n: 95.0%)\n\n**Fuente de Poder**: Aristo 500ix CE\n**Alimentador de Alambre**: Robust Feed 304\n**Sistema de Enfriamiento**: Cool 50 U42\n**Total**: $15,450.00&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;detailed_explanation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;‚úÖ Paquete Trinity Completo (Fuente de Poder + Alimentador + Sistema de Enfriamiento)\n‚úÖ Componentes verificados para compatibilidad\n‚úÖ Calidad y fiabilidad de grado empresarial&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;response_language&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;es&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;explanation_level&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;balanced&quot;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;overall_confidence&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.92</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;original_intent&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;original_query&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Necesito una m√°quina de soldar MIG de 500 amperios para acero inoxidable&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;processed_query&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;I need a MIG welding machine of 500 amps for stainless steel&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;detected_language&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;es&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div></td></tr></table></div>
<hr />
<h2 id="summary">Summary<a class="headerlink" href="#summary" title="Permanent link">&para;</a></h2>
<p>The multilingual system provides a complete translation pipeline from user input to final response:</p>
<ol>
<li><strong>Agent 1</strong>: Detects language ‚Üí Translates to English ‚Üí Extracts intent</li>
<li><strong>Agent 2</strong>: Processes English query ‚Üí Searches Neo4j ‚Üí Returns results</li>
<li><strong>Agent 3</strong>: Generates English response ‚Üí Translates to original language ‚Üí Returns to user</li>
</ol>
<p>This approach ensures:
- ‚úÖ All processing happens in English (Neo4j data is English)
- ‚úÖ Users interact in their native language
- ‚úÖ Responses adapt to expertise level AND language
- ‚úÖ Full transparency with original and processed queries tracked</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2025 ESAB
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/esab/configurator" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://pypi.org/project/esab-configurator/" target="_blank" rel="noopener" title="pypi.org" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6M286.2 444.7a20.4 20.4 0 1 1 0-40.7 20.4 20.4 0 1 1 0 40.7M167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4m-6.6-183.4a20.4 20.4 0 1 1 0 40.8 20.4 20.4 0 1 1 0-40.8"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": ["navigation.tabs", "navigation.sections", "navigation.expand", "navigation.top", "toc.integrate", "search.suggest", "search.highlight", "content.code.copy"], "search": "../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
        <script src="../javascripts/extra.js"></script>
      
    
  </body>
</html>