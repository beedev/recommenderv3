{
  "version": "1.0",
  "description": "Component type definitions and metadata for the welding equipment configurator",
  "last_updated": "2025-01-28",
  "USAGE_GUIDE": {
    "purpose": "Defines all component types used in the S1\u2192SN configurator state machine. This is the SINGLE SOURCE OF TRUTH for component metadata.",
    "loaded_by": [
      "configuration_service.py - Loads component metadata via get_component_type()",
      "state_orchestrator.py - Uses for state transitions and applicability",
      "consolidator.py - Uses lucene_min_score and lucene_score_threshold_percent",
      "schema_loader.py - Validates and caches component definitions"
    ],
    "what_it_controls": [
      "State machine flow (state_sequence array)",
      "Component display names and icons",
      "Search behavior (lucene/fuzzy matching settings)",
      "Neo4j node labels and relationships",
      "Selection types (single/multi-select)",
      "Applicability rules (which components are shown)",
      "Search result limits per component"
    ]
  },
  "HOW_TO_MODIFY": {
    "adding_new_component": {
      "step_1": "Add new component key to component_types object (use snake_case: new_component_name)",
      "step_2": "Define all required fields: class_name, display_name, api_key, neo4j_label, state_name, state_order",
      "step_3": "Set search settings: lucene_enabled, fuzzy_matching_enabled, lucene_min_score, lucene_score_threshold_percent, search_limit",
      "step_4": "Add to state_sequence array at appropriate position",
      "step_5": "Update powersource_state_specifications.json with Y/N rules for new component",
      "step_6": "Add corresponding state to models/conversation.py ConfiguratorState enum",
      "step_7": "Add Neo4j node label to database if needed"
    },
    "modifying_existing_component": {
      "display_changes": "Update display_name, display_name_plural, or icon - Changes UI only",
      "search_tuning": "Adjust lucene_min_score (0.0-1.0) or lucene_score_threshold_percent (0-100) - Affects result filtering",
      "state_flow": "Change state_order - Reorders S1\u2192SN flow, update state_sequence accordingly",
      "behavior": "Toggle is_mandatory, can_skip, supports_search - Changes user flow logic"
    },
    "changing_state_sequence": {
      "warning": "state_sequence defines the S1\u2192SN flow order. Changes here affect which components appear and when.",
      "update_both": "Keep state_sequence array in sync with state_order values in each component",
      "validation": "Run config_validator.py after changes to ensure consistency"
    }
  },
  "IMPORTANT_NOTES": {
    "consolidation_history": "Nov 15, 2024 - Consolidated component_config.json, state_config.json, and search-related settings into this file",
    "naming_convention": "Component keys use snake_case (power_source), Neo4j labels use PascalCase (PowerSource), API keys match Neo4j labels",
    "backwards_compatibility": "Old config files removed - all code now loads from component_types.json",
    "validation": "Schema validated by component_types.schema.json - run pytest tests/unit/config/test_config_validation.py",
    "related_configs": [
      "powersource_state_specifications.json - Defines Y/N applicability per power source",
      "search_config.json - Global search strategy settings (Cypher/Lucene weights)",
      "state_prompts.json - LLM prompts for each state",
      "llm_context.json - Product names and category features for LLM"
    ]
  },
  "component_types": {
    "power_source": {
      "class_name": "PowerSource",
      "display_name": "Power Source",
      "display_name_plural": "Power Sources",
      "api_key": "PowerSource",
      "db_key": "power_source",
      "neo4j_label": "Product",
      "icon": "\ud83d\udd0b",
      "is_mandatory": true,
      "can_skip": false,
      "selection_type": "single",
      "state_order": 1,
      "state_name": "power_source_selection",
      "default_skip_behavior": "required",
      "supports_search": true,
      "requires_compatibility": false,
      "proactive_display": true,
      "search_limit": 10,
      "preview_limit": 5,
      "description": "Welding power supply unit - the core of the welding system",
      "typical_features": [
        "process",
        "current_output",
        "voltage",
        "duty_cycle",
        "product_name"
      ],
      "category": "Powersource",
      "dependencies": [],
      "master_param_key": "power_source",
      "lucene_enabled": true,
      "fuzzy_matching_enabled": true,
      "lucene_min_score": 0.5,
      "lucene_score_threshold_percent": 20
    },
    "feeder": {
      "class_name": "Feeder",
      "display_name": "Wire Feeder",
      "display_name_plural": "Wire Feeders",
      "api_key": "Feeder",
      "db_key": "feeder",
      "neo4j_label": "Product",
      "icon": "\ud83d\udd0c",
      "is_mandatory": false,
      "can_skip": true,
      "selection_type": "single",
      "state_order": 2,
      "state_name": "feeder_selection",
      "default_skip_behavior": "auto_skip",
      "supports_search": true,
      "requires_compatibility": true,
      "proactive_display": true,
      "search_limit": 10,
      "preview_limit": 5,
      "description": "Wire feeding mechanism for continuous welding processes",
      "typical_features": [
        "wire_feed_speed",
        "motor_type",
        "portability",
        "cooling_type",
        "product_name"
      ],
      "category": "Feeder",
      "dependencies": [
        "power_source"
      ],
      "master_param_key": "feeder",
      "lucene_enabled": true,
      "fuzzy_matching_enabled": true,
      "lucene_min_score": 0.5,
      "lucene_score_threshold_percent": 25
    },
    "cooler": {
      "class_name": "Cooler",
      "display_name": "Cooling System",
      "display_name_plural": "Cooling Systems",
      "api_key": "Cooler",
      "db_key": "cooler",
      "neo4j_label": "Product",
      "icon": "\u2744\ufe0f",
      "is_mandatory": false,
      "can_skip": true,
      "selection_type": "single",
      "state_order": 3,
      "state_name": "cooler_selection",
      "default_skip_behavior": "auto_skip",
      "supports_search": true,
      "requires_compatibility": true,
      "proactive_display": true,
      "search_limit": 10,
      "preview_limit": 5,
      "description": "Cooling unit for high-duty-cycle welding operations",
      "typical_features": [
        "cooling_capacity",
        "flow_rate",
        "tank_capacity",
        "cooling_type",
        "product_name"
      ],
      "category": "Cooler",
      "dependencies": [
        "power_source"
      ],
      "master_param_key": "cooler",
      "lucene_enabled": true,
      "fuzzy_matching_enabled": true,
      "lucene_min_score": 0.5,
      "lucene_score_threshold_percent": 25
    },
    "interconnector": {
      "class_name": "Interconnector",
      "display_name": "Interconnector Cable",
      "display_name_plural": "Interconnector Cables",
      "api_key": "Interconnector",
      "db_key": "interconnector",
      "neo4j_label": "Product",
      "icon": "\ud83d\udd17",
      "is_mandatory": false,
      "can_skip": true,
      "selection_type": "single",
      "state_order": 4,
      "state_name": "interconnector_selection",
      "default_skip_behavior": "auto_skip",
      "supports_search": true,
      "requires_compatibility": true,
      "proactive_display": true,
      "search_limit": 10,
      "preview_limit": 5,
      "description": "Connection cable between power source and feeder",
      "typical_features": [
        "cable_length",
        "current_capacity",
        "connector_type",
        "product_name"
      ],
      "category": "Interconn",
      "dependencies": [
        "power_source",
        "feeder",
        "cooler"
      ],
      "master_param_key": "interconnector",
      "lucene_enabled": true,
      "fuzzy_matching_enabled": false,
      "lucene_min_score": 0.5,
      "lucene_score_threshold_percent": 25
    },
    "torch": {
      "class_name": "Torch",
      "display_name": "Welding Torch",
      "display_name_plural": "Welding Torches",
      "api_key": "Torch",
      "db_key": "torch",
      "neo4j_label": "Product",
      "icon": "\ud83d\udd26",
      "is_mandatory": false,
      "can_skip": true,
      "selection_type": "single",
      "state_order": 5,
      "state_name": "torch_selection",
      "default_skip_behavior": "auto_skip",
      "supports_search": true,
      "requires_compatibility": true,
      "proactive_display": true,
      "search_limit": 10,
      "preview_limit": 5,
      "description": "Welding torch for applying arc to workpiece",
      "typical_features": [
        "torch_type",
        "current_rating",
        "cooling_type",
        "cable_length",
        "process",
        "product_name"
      ],
      "category": "Torches",
      "dependencies": [
        "feeder",
        "cooler"
      ],
      "master_param_key": "torch",
      "lucene_enabled": true,
      "fuzzy_matching_enabled": false,
      "lucene_min_score": 0.5,
      "lucene_score_threshold_percent": 25
    },
    "powersource_accessories": {
      "class_name": "PowerSourceAccessories",
      "display_name": "Power Source Accessory",
      "display_name_plural": "Power Source Accessories",
      "api_key": "PowerSourceAccessories",
      "db_key": "powersource_accessories",
      "neo4j_label": "Product",
      "icon": "\ud83d\udd0c",
      "is_mandatory": false,
      "can_skip": true,
      "selection_type": "multi",
      "state_order": 6,
      "state_name": "powersource_accessories_selection",
      "default_skip_behavior": "auto_skip",
      "supports_search": true,
      "requires_compatibility": true,
      "proactive_display": true,
      "search_limit": 20,
      "preview_limit": 5,
      "description": "Accessories specifically for power sources",
      "typical_features": [
        "accessory_type",
        "compatibility",
        "product_name"
      ],
      "category": "Powersource Accessories",
      "dependencies": [
        "power_source"
      ],
      "master_param_key": "powersource_accessories",
      "lucene_enabled": true,
      "fuzzy_matching_enabled": false,
      "lucene_min_score": 0.5,
      "lucene_score_threshold_percent": 25
    },
    "feeder_accessories": {
      "class_name": "FeederAccessories",
      "display_name": "Feeder Accessory",
      "display_name_plural": "Feeder Accessories",
      "api_key": "FeederAccessories",
      "db_key": "feeder_accessories",
      "neo4j_label": "Product",
      "icon": "\ud83d\udd29",
      "is_mandatory": false,
      "can_skip": true,
      "selection_type": "multi",
      "state_order": 7,
      "state_name": "feeder_accessories_selection",
      "default_skip_behavior": "auto_skip",
      "supports_search": true,
      "requires_compatibility": true,
      "proactive_display": true,
      "search_limit": 20,
      "preview_limit": 5,
      "description": "Accessories specifically for wire feeders",
      "typical_features": [
        "accessory_type",
        "compatibility",
        "product_name"
      ],
      "category": "Feeder Accessories",
      "dependencies": [
        "feeder"
      ],
      "master_param_key": "feeder_accessories",
      "lucene_enabled": true,
      "fuzzy_matching_enabled": false,
      "lucene_min_score": 0.5,
      "lucene_score_threshold_percent": 25
    },
    "feeder_conditional_accessories": {
      "class_name": "FeederConditionalAccessories",
      "display_name": "Feeder Conditional Accessory",
      "display_name_plural": "Feeder Conditional Accessories",
      "api_key": "FeederConditionalAccessories",
      "db_key": "feeder_conditional_accessories",
      "neo4j_label": "Product",
      "icon": "\u2699\ufe0f",
      "is_mandatory": false,
      "can_skip": true,
      "selection_type": "multi",
      "state_order": 8,
      "state_name": "feeder_conditional_accessories",
      "default_skip_behavior": "auto_skip",
      "supports_search": true,
      "requires_compatibility": true,
      "proactive_display": true,
      "search_limit": 20,
      "preview_limit": 5,
      "description": "Conditional accessories for wire feeders",
      "typical_features": [
        "accessory_type",
        "compatibility",
        "product_name"
      ],
      "category": "Feeder Conditional Accessories",
      "dependencies": [
        "feeder_accessories"
      ],
      "master_param_key": "feeder_conditional_accessories",
      "lucene_enabled": true,
      "fuzzy_matching_enabled": false,
      "lucene_min_score": 0.5,
      "lucene_score_threshold_percent": 25
    },
    "interconnector_accessories": {
      "class_name": "InterconnectorAccessories",
      "display_name": "Interconnector Accessory",
      "display_name_plural": "Interconnector Accessories",
      "api_key": "InterconnectorAccessories",
      "db_key": "interconnector_accessories",
      "neo4j_label": "Product",
      "icon": "\ud83d\udd17",
      "is_mandatory": false,
      "can_skip": true,
      "selection_type": "multi",
      "state_order": 9,
      "state_name": "interconnector_accessories_selection",
      "default_skip_behavior": "auto_skip",
      "supports_search": true,
      "requires_compatibility": true,
      "proactive_display": true,
      "search_limit": 20,
      "preview_limit": 5,
      "description": "Accessories for interconnector cables",
      "typical_features": [
        "accessory_type",
        "compatibility",
        "product_name"
      ],
      "category": "Interconn Accessories",
      "dependencies": [
        "interconnector"
      ],
      "master_param_key": "interconnector_accessories",
      "lucene_enabled": true,
      "fuzzy_matching_enabled": false,
      "lucene_min_score": 0.5,
      "lucene_score_threshold_percent": 25
    },
    "remote": {
      "class_name": "Remotes",
      "display_name": "Remote Control",
      "display_name_plural": "Remote Controls",
      "api_key": "Remotes",
      "db_key": "remote",
      "neo4j_label": "Product",
      "icon": "\ud83d\udce1",
      "is_mandatory": false,
      "can_skip": true,
      "selection_type": "multi",
      "state_order": 10,
      "state_name": "remote_selection",
      "default_skip_behavior": "auto_skip",
      "supports_search": true,
      "requires_compatibility": true,
      "proactive_display": true,
      "search_limit": 20,
      "preview_limit": 5,
      "description": "Remote controls for welding systems",
      "typical_features": [
        "remote_type",
        "connectivity",
        "product_name"
      ],
      "category": "Remotes",
      "dependencies": [
        "power_source",
        "feeder"
      ],
      "master_param_key": "remote",
      "lucene_enabled": true,
      "fuzzy_matching_enabled": false,
      "lucene_min_score": 0.5,
      "lucene_score_threshold_percent": 25
    },
    "remote_accessories": {
      "class_name": "RemoteAccessories",
      "display_name": "Remote Accessory",
      "display_name_plural": "Remote Accessories",
      "api_key": "RemoteAccessories",
      "db_key": "remote_accessories",
      "neo4j_label": "Product",
      "icon": "\ud83c\udfae",
      "is_mandatory": false,
      "can_skip": true,
      "selection_type": "multi",
      "state_order": 11,
      "state_name": "remote_accessories_selection",
      "default_skip_behavior": "auto_skip",
      "supports_search": true,
      "requires_compatibility": true,
      "proactive_display": true,
      "search_limit": 20,
      "preview_limit": 5,
      "description": "Accessories for remote controls",
      "typical_features": [
        "accessory_type",
        "compatibility",
        "product_name"
      ],
      "category": "Remote Accessories",
      "dependencies": [
        "remote"
      ],
      "master_param_key": "remote_accessories",
      "lucene_enabled": true,
      "fuzzy_matching_enabled": false,
      "lucene_min_score": 0.5,
      "lucene_score_threshold_percent": 25
    },
    "remote_conditional_accessories": {
      "class_name": "RemoteConditionalAccessories",
      "display_name": "Remote Conditional Accessory",
      "display_name_plural": "Remote Conditional Accessories",
      "api_key": "RemoteConditionalAccessories",
      "db_key": "remote_conditional_accessories",
      "neo4j_label": "Product",
      "icon": "\ud83d\udd27",
      "is_mandatory": false,
      "can_skip": true,
      "selection_type": "multi",
      "state_order": 12,
      "state_name": "remote_conditional_accessories",
      "default_skip_behavior": "auto_skip",
      "supports_search": true,
      "requires_compatibility": true,
      "proactive_display": true,
      "search_limit": 20,
      "preview_limit": 5,
      "description": "Conditional accessories for remote controls",
      "typical_features": [
        "accessory_type",
        "compatibility",
        "product_name"
      ],
      "category": "Remote Conditional Accessories",
      "dependencies": [
        "remote_accessories"
      ],
      "master_param_key": "remote_conditional_accessories",
      "lucene_enabled": true,
      "fuzzy_matching_enabled": false,
      "lucene_min_score": 0.5,
      "lucene_score_threshold_percent": 25
    },
    "connectivity": {
      "class_name": "Connectivity",
      "display_name": "Connectivity",
      "display_name_plural": "Connectivity Options",
      "api_key": "Connectivity",
      "db_key": "connectivity",
      "neo4j_label": "Product",
      "icon": "\ud83d\udcf6",
      "is_mandatory": false,
      "can_skip": true,
      "selection_type": "multi",
      "state_order": 13,
      "state_name": "connectivity_selection",
      "default_skip_behavior": "auto_skip",
      "supports_search": true,
      "requires_compatibility": true,
      "proactive_display": true,
      "search_limit": 20,
      "preview_limit": 5,
      "description": "Connectivity and communication options",
      "typical_features": [
        "connectivity_type",
        "protocol",
        "product_name"
      ],
      "category": "Connectivity",
      "dependencies": [
        "power_source",
        "feeder"
      ],
      "master_param_key": "connectivity",
      "lucene_enabled": true,
      "fuzzy_matching_enabled": false,
      "lucene_min_score": 0.5,
      "lucene_score_threshold_percent": 25
    }
  },
  "state_sequence": [
    "power_source_selection",
    "feeder_selection",
    "cooler_selection",
    "interconnector_selection",
    "torch_selection",
    "powersource_accessories_selection",
    "feeder_accessories_selection",
    "feeder_conditional_accessories",
    "interconnector_accessories_selection",
    "remote_selection",
    "remote_accessories_selection",
    "remote_conditional_accessories",
    "connectivity_selection"
  ],
  "finalize_state": "finalize"
}